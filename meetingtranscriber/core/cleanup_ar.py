import re


REPLACEMENTS = {
    "هلق": "هلأ",
    "لسا": "لسات",
    "تمام؟": "تمام؟",
    "انشالله": "إن شاء الله",
    "ان شاءالله": "إن شاء الله",
    "ان شاء الله": "إن شاء الله",
    "بدي": "بدي",
    "مو": "مو",
    "مافي": "ما في",
    "مابي": "ما بي",
    "مابدي": "ما بدي",
    "عشان": "مشان",
    "لان": "لأن",
    "لانو": "لأنه",
    "هيك": "هيك",
    "كتير": "كتير",
}


def cleanup_ar_text(text: str) -> str:
    if not text:
        return ""
    t = text
    for k, v in REPLACEMENTS.items():
        t = t.replace(k, v)
    t = re.sub(r"\s+", " ", t).strip()
    t = re.sub(r"\s+([،.!؟:؛])", r"\1", t)
    t = re.sub(r"([،.!؟:؛])([^\s])", r"\1 \2", t)
    return t
